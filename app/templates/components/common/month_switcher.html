<!-- 
月切り替えボタンコンポーネント
パラメータ:
  - prev_month: 前月 (YYYY-MM形式)
  - next_month: 翌月 (YYYY-MM形式)
  - use_htmx: HTMX使用有無 (true/false)
  - target_id: HTMXターゲットID (use_htmx=trueの場合必須)
  - url_base: ベースURL (use_htmx=trueの場合必須)
  - user_id: ユーザーID (オプション)
  - target_date: 対象日付 (オプション)
  - class: ボタングループに追加するクラス (オプション)
-->

{# デフォルト値の設定 #} {% set use_htmx = use_htmx|default(false) %} {% set class = class|default('ml-2') %}

<div class="btn-group shadow-sm {{ class }}">
  {% if use_htmx %}
  <!-- HTMX版の月切り替えボタン -->
  <button
    class="btn btn-sm btn-outline"
    {%
    if
    target_date
    and
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}?month={{ prev_month }}"
    {%
    elif
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}?month={{ prev_month }}"
    {%
    else
    %}
    hx-get="{{ url_base }}?month={{ prev_month }}"
    {%
    endif
    %}
    hx-target="#{{ target_id }}"
  >
    ＜
  </button>
  <button
    class="btn btn-sm btn-neutral"
    {%
    if
    target_date
    and
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}"
    {%
    elif
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}"
    {%
    else
    %}
    hx-get="{{ url_base }}"
    {%
    endif
    %}
    hx-target="#{{ target_id }}"
  >
    今月
  </button>
  <button
    class="btn btn-sm btn-outline"
    {%
    if
    target_date
    and
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}?month={{ next_month }}"
    {%
    elif
    user_id
    %}
    hx-get="{{ url_base }}/{{ user_id }}?month={{ next_month }}"
    {%
    else
    %}
    hx-get="{{ url_base }}?month={{ next_month }}"
    {%
    endif
    %}
    hx-target="#{{ target_id }}"
  >
    ＞
  </button>
  {% else %}
  <!-- JavaScript版の月切り替えボタン -->
  <button
    class="btn btn-sm btn-outline month-nav-btn"
    data-month="{{ prev_month }}"
    onclick="navigateToMonth('{{ prev_month }}', '{{ user_id }}', '{{ url_base }}')"
  >
    ＜
  </button>
  <button class="btn btn-sm btn-neutral month-nav-btn" onclick="navigateToMonth('', '{{ user_id }}', '{{ url_base }}')">
    今月
  </button>
  <button
    class="btn btn-sm btn-outline month-nav-btn"
    data-month="{{ next_month }}"
    onclick="navigateToMonth('{{ next_month }}', '{{ user_id }}', '{{ url_base }}')"
  >
    ＞
  </button>
  {% endif %}
</div>
